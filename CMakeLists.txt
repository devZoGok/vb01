cmake_minimum_required(VERSION 2.9)
project(vb01)

include_directories(/usr/include/GLFW)
include_directories(/usr/include/glad)
include_directories(/usr/include/glm)
include_directories(/usr/include/assimp)
include_directories(/usr/include/freetype2)
include_directories(/usr/include/cppunit)

link_directories(/usr/lib/)

set(CMAKE_BUILD_TYPE Debug)
set(gui text.cpp)
set(utils util.cpp)
set(math quaternion.cpp vector.cpp matrix.cpp ray.cpp)
set(render particleEmitter.cpp camera.cpp light.cpp material.cpp mesh.cpp model.cpp node.cpp quad.cpp box.cpp root.cpp shader.cpp texture.cpp)
set(model modelReader.cpp assimpModelReader.cpp vbModelReader.cpp)
set(anim animationController.cpp animationChannel.cpp animation.cpp)
set(armature skeleton.cpp bone.cpp ikSolver.cpp)
set(library ${render} ${math} ${model} ${utils} ${gui} ${armature} ${anim})

add_library(vb01 SHARED ${library})
target_link_libraries(vb01 glfw)
target_link_libraries(vb01 glad)
target_link_libraries(vb01 assimp)
target_link_libraries(vb01 freetype)

set(renderTest nodeTest.cpp cameraTest.cpp shaderTest.cpp particleEmitterTest.cpp)
set(armatureTest boneTest.cpp ikSolverTest.cpp)
set(modelTest vbModelReaderTest.cpp)
set(animationTest animationChannelTest.cpp)
set(test ${library} ${renderTest} ${armatureTest} ${modelTest} ${animationTest})

add_executable(vb01Tests main.cpp ${test})
target_link_libraries(vb01Tests cppunit)
target_link_libraries(vb01Tests glfw)
target_link_libraries(vb01Tests glad)
target_link_libraries(vb01Tests assimp)
target_link_libraries(vb01Tests freetype)
